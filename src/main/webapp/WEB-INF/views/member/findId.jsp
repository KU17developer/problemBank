<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %>
<c:set var="path" value="${pageContext.request.contextPath}"/>
<!DOCTYPE html>
<html lang="ko" class="mobile">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
            new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-WNPQ385');</script>
    <!-- End Google Tag Manager -->
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-FX3SQDR374"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-FX3SQDR374');
    </script>

    <title>T셀파 - 오직 선생님만을 위한 교수학습 무료지원</title>
    <meta name="Referrer" content="origin"/>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge"/>
    <meta name="viewport" content="width=1768">
    <meta name="robots" content="index,nofollow"/>
    <meta name="title" content="T셀파 - 오직 선생님만을 위한 교수학습 무료지원"/>
    <meta name="url" content="https://www.tsherpa.co.kr/"/>
    <meta name="keywords" content="T셀파,티셀파,교수지원,천재교육,천재교과서"/>
    <meta name="description" content="천재교육, 천재교과서의 모든 학습자료는 기본! 강력한 평가자료와 다양한 콘텐츠제공!"/>
    <meta name="image" content="https://www.tsherpa.co.kr/resource/main/assets/img/OpenGraph_1200x630_e.jpg"/>
    <meta name="apple-mobile-web-app-title" content="T셀파 - 오직 선생님만을 위한 교수학습 무료지원"/>
    <meta property="fb:app_id" content="453644223372937"/>
    <meta property="og:type" content="website"/>
    <meta property="og:title" content="T셀파 - 오직 선생님만을 위한 교수학습 무료지원"/>
    <meta property="og:url" content="https://www.tsherpa.co.kr/"/>
    <meta property="og:description" content="천재교육, 천재교과서의 모든 학습자료는 기본! 강력한 평가자료와 다양한 콘텐츠제공!"/>
    <meta property="og:image" content="https://www.tsherpa.co.kr/resource/main/assets/img/OpenGraph_1200x630_e.jpg"/>
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="T셀파 - 오직 선생님만을 위한 교수학습 무료지원"/>
    <meta name="twitter:url" content="https://www.tsherpa.co.kr/"/>
    <meta name="twitter:description" content="천재교육, 천재교과서의 모든 학습자료는 기본! 강력한 평가자료와 다양한 콘텐츠제공!"/>
    <meta name="twitter:image" content="https://www.tsherpa.co.kr/resource/main/assets/img/OpenGraph_1200x630_e.jpg"/>

    <link rel="shortcut icon" href="/resource/main/assets/img/favicon-9f0957a54705223dc8146656eb5dc851.ico"/>
    <link rel="apple-touch-icon-precomposed" sizes="192x192" href="/resource/main/assets/img/Favorites_T-spa-efcf1f38b818e5300b32cd726f599bd2.png"/>
    <link rel="stylesheet" type="text/css" href="/resource/main/assets/css/common-6197d1133fb7da69e83869ef82aa8548.css"/>
    <link rel="stylesheet" type="text/css" href="/resource/main/assets/css/pages_s/layout-38a34d1a0e013b9bf4e6081edb7a4dd0.css"/>
    <link rel="stylesheet" type="text/css" href="/resource/main/assets/css/pages_s/layout-mobile-782c2089b3e2a1f0eb61bba841e15488.css"/>
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/simplebar@latest/dist/simplebar.css"/>
    <link rel="stylesheet" type="text/css" href="/resource/main/assets/css/pages_s/list_guide-aa35428aeed0c41f21144280c1cd6da9.css"/>
    <link rel="stylesheet" type="text/css" href="/resource/main/assets/css/pages_s/error-c90126b2263dd881d954e2806b532ab8.css"/>
    <link rel="stylesheet" type="text/css" href="/resource/main/assets/css/pages_s/membership-61bddae88875175e89848e7031cce220.css"/>
    <link rel="stylesheet" type="text/css" href="/resource/main/assets/css/pages_s/gate-4fb104d3073025725c296536f98f046d.css"/>
    <link rel="stylesheet" type="text/css" href="/resource/main/assets/css/pages_s/mytsherpa-5d170f58d63ee36b1bfc364e96fd1e76.css"/>
    <link rel="stylesheet" type="text/css" href="/resource/main/assets/css/pages_s/servicecenter-2735a9b2283f18cec103366f12ab6989.css"/>
    <link rel="stylesheet" type="text/css" href="/resource/main/assets/css/pages_s/popup-7fd071296170a039db2cd08216d46f66.css"/>
    <link rel="stylesheet" type="text/css" href="/resource/main/assets/css/pages_s/additional-207beca5c1ec861a924d67df7980dcb8.css"/>
    <link rel="stylesheet" type="text/css" href="/resource/main/assets/css/pages_s/etc-09d9b179897f225cdb7271cca659bbb7.css"/>
    <link rel="stylesheet" type="text/css" href="/resource/main/assets/css/pages_s/search-0aaa9b022410e0ac3d9bc32a2c9a3af8.css"/>
    <link rel="stylesheet" type="text/css" href="/resource/main/assets/css/pages_s/problembank-614079c306d4afcf640b55b3ee9e233c.css"/>
    <link rel="stylesheet" type="text/css" href="/resource/main/assets/css/pages_s/teachingboard-a481d9276b714acddfb03a1d6b92e488.css"/>
    <link rel="stylesheet" type="text/css" href="/resource/main/assets/css/pages_s/special_applenumbers-a2dec0b4e463e463d66039a50263a078.css"/>
    <link rel="stylesheet" type="text/css" href="/resource/main/assets/css/pages_s/special_sciencelab-e8eb943b3721fc4cf090caa950b1ace6.css"/>
    <link rel="stylesheet" type="text/css" href="/resource/main/assets/css/pages_s/mobile_membership-968f456aa661aeba567a2c4dd5fca162.css"/>
    <link rel="stylesheet" type="text/css" href="/resource/main/assets/css/pages_s/special_sciencelab_ver202212-4897b399278aadfee247262797f1a3a3.css"/>
    <link rel="stylesheet" type="text/css" href="/resource/main/assets/css/pages_s/special_read-68fe8743a2da2445a005832519b98c72.css"/>
    <link rel="stylesheet" type="text/css" href="/resource/main/assets/css/pages_s/special_literarySite-824e78e6d7d0f6563e3349d8429e096e.css"/>
    <link rel="stylesheet" type="text/css" href="/resource/main/assets/css/pages_s/special_history-b0ca2b462b4422fbeb6253f52876cacb.css"/>
    <link rel="stylesheet" type="text/css" href="/resource/main/assets/css/pages_s/special_genius-5676bc47ccccc728729c05176eb4166b.css"/>
    <link rel="stylesheet" type="text/css" href="/resource/main/assets/css/pages_s/music_story-2193538c50845f31b45f435283db716c.css"/>


    <script src="/resource/common/assets/js/lib/jquery.min-4b57cf46dc8cb95c4cca54afc85e9540.js"></script>
    <script src="/resource/common/assets/js/lib/jquery.mCustomScrollbar.min-79da02c489da1f70030e0abf956b8ad9.js"></script>
    <script src="/resource/common/assets/js/lib/bootstrap.min-d039b2b9ceb69f48a85309806ca078f4.js"></script>
    <script src="/resource/common/assets/js/lib/bootstrap-datepicker.min-0ec5664fc2e0badb5ce61b55beeae2e5.js"></script>
    <script src="/resource/common/assets/js/lib/swiper.min-2ac19265b38d14235141d184bca54d9a.js"></script>
    <script src="/resource/common/assets/js/lib/moment.min-8cb13767cf53aa49d8b1b1096e513a18.js"></script>
    <script src="/resource/common/assets/js/lib/moment.locale-14369b837e9e15378938754b04bd2189.js"></script>
    <script src="/resource/common/assets/js/lib/lodash.min-4ad84e20e2c560e8d2bf026cbdcea2c2.js"></script>
    <script src="/resource/common/assets/js/lib/js.cookie.min-9736caa043e0a67571913cd19d1a9ce5.js"></script>
    <script src="/resource/common/assets/js/lib/js.storage.min-99bc78871b76f7beb3271a2a804f9955.js"></script>
    <script src="/resource/common/assets/js/lib/handlebars.min-8d8e6abd659e36b6aead88b4a93bff49.js"></script>
    <script src="/resource/common/assets/js/lib/alpine.min-dd25f7676f4c38e07113365fa53eb261.js" type="module"></script>
    <script src="/resource/common/assets/js/lib/alpine-ie11.min-752880bd1947a2654b4e23d970d4a9b2.js" nomodule></script>

    <script src="https://sso.chunjae.co.kr:446/include/js/min/auth-latest.min.js"></script>
    <script src="https://sso.chunjae.co.kr:446/include/js/min/queryencrypt-latest.min.js"></script>
    <script src="/resource/common/assets/js/legacy_common-d2d7d5cb7969edb323cd785fc9c44390.js"></script>
    <script src="/resource/main/assets/js/common-01f6790ec8ce8b27a3c2d3ad0c2748ec.js"></script>

    <script>
        var currentDevice = 'DESKTOP';
        var mainDomain = "https://www.tsherpa.co.kr/";
        var ourClassUrl = "https://class.tsherpa.co.kr/";

        var siteAttribute = {};
        siteAttribute['logo'] = '/Tsherpa2021/cms_logo/메인cms.png';
        siteAttribute['square_logo'] = '';
        siteAttribute['root_path'] = '/Tsherpa2021';
        siteAttribute['semester'] = '1';

        //통합회원 체크
        window.onload = function () {
            if (false) {
                if (Common.getCookie("popupYN") != "N") {
                    if (Common.getCookie("loginCheck") == "Y") {
                        integratedChange()
                    }
                }
                Common.setCookie("loginCheck", "N");
            }
        }

        function checkUserLoggedIn(returnUrl) {
            if (!false) {
                alert('로그인 후 서비스를 이용하실 수 있습니다.');
                if (returnUrl != undefined) {
                    location.href = mainDomain + '/login.html?returnUrl=' + encodeURIComponent(returnUrl);
                }
            }
            return false;
        }

        // 유치 X && 초중고정회원, 교대생, 초중고관리자, 초중고영업
        function newRegularMember() {
            return false;
        }

        // 유치, 교대생, 중고등준회원, 정회원, 영업 X && 초등정회원, 영업, 초중고관리자 (우리반T셀파, 알림장 등)
        function newRegularMember2() {
            return false;
        }

        function isUserLogin() {
            return false;
        }

        function returnMemberType() {
            return '';
        }

        function checkMenuPermission(menu) {
            if (!isUserLogin() && (menu == 'curri' || menu == 'community' || menu == 'exam' || menu == 'creativity')) {
                checkUserLoggedIn(true);
            }
        }

        function memberCurriCheck(returnUrl){
            alert('로그인 후에 이용할 수 있는 서비스입니다.');
            parent.location.href= 'https://www.tsherpa.co.kr/login.html?returnUrl='+encodeURIComponent(parent.location.href);
        }

        //통합회원 체크 및 전환
        function integratedChange() {
            if (false) {
                let userName = '';
                let encryption = encodeURIComponent(queryEncrypt.encrypt(userName));
                $.get("https://sso.chunjae.co.kr:446/api/member/JoinedSite", {
                    userID: encryption
                }).done(function (Status) {
                    if (Status.Result.Items[0].CreDate < "2018") {
                        if (Status.Result.Itemsummary.TotalCnt < 3) {
                            let url = "/modal/membership-integration.html";
                            $("#memberChangeModal").load(url, function (response, status, xhr) {
                                $("#memberChange").modal('show');
                            });
                        }
                    }
                })
            }
        }

        // 특정 페이지 재인증 처리
        function reAuth(url) {
            location.href = "/mo_membership/password.html?reAuthUrl=" + encodeURIComponent(url);
        }
    </script>

    <script>
        $.ajax({
            url: "https://sso.chunjae.co.kr:446/api/auth/Validation",
            data: {sessionData: "kfXjBIvKHGNyd8+2kNg8uvEiIKppiSnwwDCs7a1FzDLPwOyEhtzhjacJSgOXmPtSkbVvbrhu8Cj9pFfX3W6aRw=="},
            dataType: 'json',
            cache: false,
            success: function (data) {
                if (data && data.Result) {
                    let Items = data.Result.Items;
                    $.ajax({
                        url: "https://sso.chunjae.co.kr:446/api/auth/Authorize?Token=" + Items.Token,
                        dataType: 'text',
                        xhrFields: {withCredentials: true},
                        cache: false,
                        success: function (data) {
                            let reg = /_ChunjaeSSOEncData = '(.*)';/
                            let ssoData = reg.exec(data)[1];
                            if (ssoData) {
                                $.post("/ssoLogin.do", {encData: ssoData, isReconn: true}).done(function (data) {
                                    if (data.success) {
                                        if (isLoginPage()) {
                                            alert("통합인증 로그인으로 재접속 합니다.");
                                            location.href = "/";
                                        } else {
                                            if (!sessionStorage.getItem("tsherpa_sso_reload")) {
                                                sessionStorage.setItem("tsherpa_sso_reload", "on");
                                                location.reload(true);
                                            }
                                        }
                                    } else {
                                        alert(data.message);
                                    }
                                });
                            } else {
                            }
                        },
                        error: function (e) {
                            console.error(e);
                        }
                    });
                }
            },
            error: function (e) {
                console.error(e);
            }
        });

        function isLoginPage() {
            return location.pathname == '/login.html'
                || location.pathname == '/mo_membership/login.html'
                || location.pathname == '/mo_membership/class_app_login.html'
                || location.pathname.startsWith("/mo_membership/signup");
        }

        async function isSsoStudentLogout(){
            const response1 = await fetch("https://sso.chunjae.co.kr:446/api/auth/Validation?sessionData=" + encodeURIComponent('kfXjBIvKHGNyd8+2kNg8uvEiIKppiSnwwDCs7a1FzDLPwOyEhtzhjacJSgOXmPtSkbVvbrhu8Cj9pFfX3W6aRw=='), {
                method: 'GET',
                cache: 'no-cache',
                headers: {
                    'Accept': 'application/json'
                }
            });
            const data1 = await response1.json();
            if (data1 && data1.Result) {
                const Items = data1.Result.Items;
                const response2 = await fetch("https://sso.chunjae.co.kr:446/api/auth/AuthorizeStudent?Token=" + Items.Token, {
                    method: 'GET',
                    cache: 'no-cache',
                    credentials: 'include', // This is equivalent to xhrFields: {withCredentials: true}
                    headers: {
                        'Accept': 'text/plain'
                    }
                });
                const data2 = await response2.text();
                const reg = /_ChunjaeSSOEncData = '(.*)';/
                const ssoData = reg.exec(data2)[1];
                if (ssoData) {
                    alert('다른 SSO 세션이 존재하여, 로그아웃 하겠습니다.');
                    const url = location.href.replace(location.search, '');
                    document.location.href = "https://class.tsherpa.co.kr//tclass/logout?returnUrl="  +
                        encodeURIComponent("https://sso.chunjae.co.kr:446/api/auth/logout?returnUrl=" +
                            encodeURIComponent(url + encodeURIComponent(location.search)));
                    return true;
                }
            }
            return false;
        }
    </script>

</head>

<body>
<div class="mo_membership" x-data="init();" x-init="initFn();" @send-data.window="getData($event.detail)">
    <!-- header -->

    <script>
        ;(function ($) {
            $.fn.toJSON = function () {
                let $elements = {};
                let $form = $(this);
                $form.find('input, select, textarea').each(function () {
                    let name = $(this).attr('name')
                    let type = $(this).attr('type')
                    if (name) {
                        let $value;
                        if (type == 'radio') {
                            $value = $('input[name=' + name + ']:checked', $form).val()
                        } else if (type == 'checkbox') {
                            $value = $(this).is(':checked')
                        } else {
                            $value = $(this).val()
                        }
                        $elements[$(this).attr('name')] = $value
                    }
                });
                return $elements;
            };
            $.fn.fromJSON = function (data) {
                let $form = $(this)
                $.each(data, function (key, value) {
                    let $elem = $('[name="' + key + '"]', $form)
                    let type = $elem.first().attr('type')
                    if (type == 'radio') {
                        $('[name="' + key + '"][value="' + value + '"]').prop('checked', true)
                    } else if (type == 'checkbox' && (value == true || value == 'true')) {
                        $('[name="' + key + '"]').prop('checked', true)
                    } else {
                        $elem.val(value)
                    }
                })
            };
        }(jQuery));

        function setSessionStorage(key, add) {
            let src = sessionStorage.getItem(key);
            let data = src ? JSON.parse(src) : {};
            sessionStorage.setItem(key, JSON.stringify(Object.assign(data, add)));
        }

        function getSessionStorage(key) {
            let data = JSON.parse(sessionStorage.getItem(key));
            return data ? data : null;
        }
    </script>

    <div class="mo_membership_header">
        <h1 class="brand">
            <a href="/"><span class="ir_su">T셀파</span></a>
        </h1>
    </div>
    <!-- contents -->
    <div class="mo_membership_contents">

        <div class="form_find" id="form_find_id" x-show="tabSel == 'id'">
            <h3 class="tit_h3">아이디 찾기</h3>
            <ul class="find_tab">
                <li class="active"><a href="#findIdPhoneNum" x-on:click="idTab.findMethod = 'P'">휴대폰 번호로 찾기</a></li>
                <li><a href="#findIdEmail" x-on:click="idTab.findMethod = 'E'">이메일로 찾기</a></li>
            </ul>

            <!-- 휴대폰번호로 찾기 -->
            <div class="cell_area cont_form" id="findIdPhoneNum">
                <div class="form_dec">
                    <span class="tit red_bullet">이름</span>
                    <input type="text" placeholder="이름" id="idTab_name_P" name="idTab_name" x-model="idTab.name"
                           x-bind:data-valid-enable="idTab.findMethod == 'P' && tabSel == 'id'" data-valid-opt="name">
                </div>
                <div class="form_dec">
                    <span class="tit red_bullet">휴대폰</span>
                    <div class="cell_input_group">
                        <select class="form-control" id="idTab_phone1" name="idTab_phone1" x-model="idTab.phone1">
                            <option value="010">010</option>
                            <option value="011">011</option>
                            <option value="016">016</option>
                            <option value="017">017</option>
                            <option value="018">018</option>
                            <option value="019">019</option>
                        </select>
                        <span class="bar">-</span>
                        <input type="text" id="idTab_phone2" name="idTab_phone2" x-model="idTab.phone2"
                               x-bind:data-valid-enable="idTab.findMethod == 'P' && tabSel == 'id'" data-valid-opt="phone2" maxlength="4" @keyup="changePhone();">
                        <span class="bar">-</span>
                        <input type="text" id="idTab_phone3" name="idTab_phone3" x-model="idTab.phone3"
                               x-bind:data-valid-enable="idTab.findMethod == 'P' && tabSel == 'id'" data-valid-opt="phone3" maxlength="4" @keyup="changePhone();">
                    </div>
                </div>
                <div class="half-box">
                    <a href="javascript: void(0);" @click="history.back();" class="btn btn-xl btn-default"><span class="name">이전</span></a>
                    <a href="javascript: void(0);" @click="memSearch('simple');" class="btn btn-xl btn-primary"><span class="name">아이디 찾기</span></a>
                </div>
            </div>

            <!-- 이메일로 찾기 -->
            <div class="eamil_area cont_form" id="findIdEmail">
                <div class="form_dec">
                    <span class="tit red_bullet">이름</span>
                    <input type="text" placeholder="이름" id="idTab_name_E" name="idTab_name" x-model="idTab.name"
                           x-bind:data-valid-enable="idTab.findMethod == 'E' && tabSel == 'id'" data-valid-opt="name">
                </div>
                <div class="form_dec">
                    <span class="tit red_bullet">이메일</span>
                    <div class="eamil_input_group">
                        <div class="flex mt10">
                            <input type="text" placeholder="이메일 아이디" id="idTab_email1" name="idTab_email1" x-model="idTab.email1"
                                   x-bind:data-valid-enable="idTab.findMethod == 'E' && tabSel == 'id'" data-valid-opt="email1">
                            <span class="ml10 mr10">@</span>
                            <input type="text" placeholder="이메일 주소" id="idTab_email2" name="idTab_email2" x-model="idTab.email2"
                                   x-bind:data-valid-enable="idTab.findMethod == 'E' && tabSel == 'id'" data-valid-opt="email2">
                        </div>
                    </div>
                </div>
                <div class="half-box">
                    <a href="javascript: void(0);" @click="history.back();" class="btn btn-xl btn-default"><span class="name">이전</span></a>
                    <a href="javascript: void(0);" @click="memSearch('simple');" class="btn btn-xl btn-primary"><span class="name">아이디 찾기</span></a>
                </div>
            </div>
        </div>

        <div class="form_find" id="form_find_pw" x-show="tabSel == 'pw'">
            <h3 class="tit_h3">비밀번호 찾기</h3>
            <ul class="find_tab">
                <li class="active"><a href="#findPwPhoneNum" x-on:click="pwTab.findMethod = 'P'">휴대폰 번호로 찾기</a></li>
                <li><a href="#findEmail" x-on:click="pwTab.findMethod = 'E'">이메일로 찾기</a></li>
            </ul>

            <!-- 휴대폰번호로 찾기 -->
            <div class="cell_area cont_form" id="findPwPhoneNum">
                <div class="form_dec">
                    <span class="tit red_bullet">이름</span>
                    <input type="text" placeholder="이름" id="pwTab_name_P" name="pwTab_name" x-model="pwTab.name"
                           x-bind:data-valid-enable="pwTab.findMethod == 'P' && tabSel == 'pw'" data-valid-opt="name">
                </div>
                <div class="form_dec">
                    <span class="tit red_bullet">아이디</span>
                    <input type="text" placeholder="아이디" id="pwTab_userId_simple_P" name="pwTab_userId_simple_P" x-model="pwTab.userId_simple"
                           x-bind:data-valid-enable="pwTab.findMethod == 'P' && tabSel == 'pw'" data-valid-opt="UserID">
                </div>
                <div class="form_dec">
                    <span class="tit red_bullet">휴대폰</span>
                    <div class="cell_input_group">
                        <select class="form-control" id="pwTab_phone1" name="pwTab_phone1" x-model="pwTab.phone1">
                            <option value="010">010</option>
                            <option value="011">011</option>
                            <option value="016">016</option>
                            <option value="017">017</option>
                            <option value="018">018</option>
                            <option value="019">019</option>
                        </select>
                        <span class="bar">-</span>
                        <input type="text" id="pwTab_phone2" name="pwTab_phone2" x-model="pwTab.phone2"
                               x-bind:data-valid-enable="pwTab.findMethod == 'P' && tabSel == 'pw'" data-valid-opt="phone2" maxlength="4" @keyup="changePhone();">
                        <span class="bar">-</span>
                        <input type="text" id="pwTab_phone3" name="pwTab_phone3" x-model="pwTab.phone3"
                               x-bind:data-valid-enable="pwTab.findMethod == 'P' && tabSel == 'pw'" data-valid-opt="phone3" maxlength="4" @keyup="changePhone();">
                    </div>
                </div>
                <div class="half-box">
                    <a href="javascript: void(0);" @click="history.back();" class="btn btn-xl btn-default"><span class="name">이전</span></a>
                    <a href="javascript: void(0);" @click="memSearch('simple');" class="btn btn-xl btn-primary"><span class="name">비밀번호 찾기</span></a>
                </div>
            </div>

            <!-- 이메일로 찾기 -->
            <div class="eamil_area cont_form" id="findEmail">
                <div class="form_dec">
                    <span class="tit red_bullet">이름</span>
                    <input type="text" placeholder="이름" id="pwTab_name_E" name="pwTab_name" x-model="pwTab.name"
                           x-bind:data-valid-enable="pwTab.findMethod == 'E' && tabSel == 'pw'" data-valid-opt="name">
                </div>
                <div class="form_dec">
                    <span class="tit red_bullet">아이디</span>
                    <input type="text" placeholder="아이디" id="pwTab_userId_simple_E" name="pwTab_userId_simple_E" x-model="pwTab.userId_simple"
                           x-bind:data-valid-enable="pwTab.findMethod == 'E' && tabSel == 'pw'" data-valid-opt="UserID">
                </div>
                <div class="form_dec">
                    <span class="tit red_bullet">이메일</span>
                    <div class="eamil_input_group">
                        <div class="flex mt10">
                            <input type="text" placeholder="이메일 아이디" id="pwTab_email1" name="pwTab_email1" x-model="pwTab.email1"
                                   x-bind:data-valid-enable="pwTab.findMethod == 'E' && tabSel == 'pw'" data-valid-opt="email1">
                            <span class="ml10 mr10">@</span>
                            <input type="text" placeholder="이메일 주소" id="pwTab_email2" name="pwTab_email2" x-model="pwTab.email2"
                                   x-bind:data-valid-enable="pwTab.findMethod == 'E' && tabSel == 'pw'" data-valid-opt="email2">
                        </div>
                    </div>
                </div>
                <div class="half-box">
                    <a href="javascript: void(0);" @click="history.back();" class="btn btn-xl btn-default"><span class="name">이전</span></a>
                    <a href="javascript: void(0);" @click="memSearch('simple');" class="btn btn-xl btn-primary"><span class="name">비밀번호 찾기</span></a>
                </div>
            </div>
        </div>
    </div>

    <div id="idFoundDiv"></div>
    <div id="pwFoundDiv"></div>

    <!-- footer -->
    <style>
        .loading {
            position: fixed;
            width: 100%;
            height: 100%;
            left: 0;
            top: 0;
            display: none;
            z-index: 2000;
            background: rgba(0, 0, 0, 0.6);
        }
        .loading > img {
            position: absolute;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
        }
        .mo_membership_footer .list_family li:hover a {
            font-size: 17px;
        }
    </style>

    <div class="mo_membership_footer">
        <div class="select_familysite">
            <a href="javascript: void(0);" class="btn_familysite">T셀파 패밀리 사이트</a>
            <ul class="list_family">
                <li><a href="https://www.chunjae.co.kr/" target="_blank">천재교육</a></li>
                <li><a href="https://www.milkt.co.kr/" target="_blank">밀크티 초등</a></li>
                <li><a href="https://mid.milkt.co.kr/" target="_blank">밀크티 중학</a></li>
                <li><a href="https://hme.chunjae.co.kr/" target="_blank">HME 전국 해법수학 학력평가</a></li>
                <li><a href="https://mall.chunjae.co.kr/" target="_blank">천재교육 쇼핑몰</a></li>
            </ul>
        </div>

        <ul class="terms">
            <li><a href="https://pass.chunjae.co.kr/#/policy?site=6&tab=1" target="_blank">이용약관</a></li>
            <li><a href="https://pass.chunjae.co.kr/#/policy?site=6&tab=2" target="_blank" style="color:#000">개인정보처리방침</a></li>
        </ul>

        <ul class="group_partners">
            <li>
                <strong>천재교육</strong>
                대표 : 강희철, 최정민  ㅣ  주소 : 서울시 금천구 가산로 9길 54 <br>
                사업자등록번호 : 119-81-19350  ㅣ  부가통신사업신고번호 : 016712
            </li>
            <li>
                <strong>천재교과서</strong>
                대표 : 박정과, 임형진  ㅣ  <span class="address">주소 : 서울시 금천구 가산디지털1로 16, 2011호(가산동)</span><br>
            </li>
        </ul>

        <p class="copyright">
            COPYRIGHT© 2022 BY CHUNJAE CO.LTD ALL RIGHTS RESERVED.
        </p>
    </div>

    <div class="loading _loading" id="loading-ani" style="display: none">
        <img src="/resource/ele/assets/img/etc/loading-e4d6cd210aee8eb578c222de3977cd08.gif" alt="로딩중">
    </div>

    <script>
        // 패밀리사이트 박스 클릭시
        $(".btn_familysite").on("click", function(e){
            e.preventDefault();
            $(this).toggleClass("down");
            $(this).next(".list_family").slideToggle(250);
        })
    </script>
</div>

<script>
    $(function () {
        var contForm = $("#form_find_id.form_find .cont_form");
        contForm.eq(0).show();
        $("#form_find_id.form_find .find_tab li>a").on("click", function (e) {
            e.preventDefault();
            $(this).parent().addClass("active").siblings().removeClass("active");
            var target = $(this).attr("href");
            contForm.hide();
            $(target).fadeIn(200);
        });
    })

    $(function () {
        var contForm = $("#form_find_pw.form_find .cont_form");
        contForm.eq(0).show();
        $("#form_find_pw.form_find .find_tab li>a").on("click", function (e) {
            e.preventDefault();
            $(this).parent().addClass("active").siblings().removeClass("active");
            var target = $(this).attr("href");
            contForm.hide();
            $(target).fadeIn(200);
        });
    })
</script>

<script type="text/javascript">
    var idfPhone;
    var idfIpin;

    $(document).ready(function () {
        idfPhone = identification("phoneChkForm", "P", setCheckResult);
        idfIpin = identification("ipinChkForm", "I", setCheckResult);
    });

    function setCheckResult(result, type) {
        let sType = "";
        if (type == "P") {
            sType = "IPIN"; // 휴대전화인증
        } else {
            sType = "AUTH"; // 아이핀인증
        }
        const event = new CustomEvent('send-data', {
            detail: {
                DI: result.sDupInfo,
                name: result.sName,
                type: sType
            }
        });
        window.dispatchEvent(event);
    }
</script>

<script>
    function init() {
        return {
            clientIp: "",
            tabSel: "",
            idTab: {
                findMethod: "", //간편찾기 방식
                name: "", // 이름
                phone1: "", //전화1
                phone2: "", //전화2
                phone3: "", //전화3
                email1: "", //이메일1
                email2: "", //이메일2
            },
            pwTab: {
                findMethod: "", //간편찾기 방식
                userId_simple: "", // 간편찾기 아이디
                userId_idf: "", // 인증기관 아이디
                name: "", // 이름
                phone1: "", //전화1
                phone2: "", //전화2
                phone3: "", //전화3
                email1: "", //이메일1
                email2: "", //이메일2
            },
            validateObj: {
                UserID: "",
                email1: "",
                email2: "",
                phone2: "",
                phone3: "",
                name: "",
            },
            alertMessage: {
                phone2: "",
                phone3: "",
                email1: "",
                email2: "",
                name: "",
                UserID: "",
            },
            initFn: function () {
                let that = this;
                that.tabSel = "id";
                that.clientIp = "114.201.140.90";
                that.idTab.phone1 = "010";
                that.idTab.findMethod = "P";
                that.pwTab.phone1 = "010";
                that.pwTab.findMethod = "P";
            },
            changeTabsel: function (el) {
                this.tabSel = el;
                console.log(this.tabSel);
            },
            changePhone: function () {
                this.idTab.phone2 = numberCheck(this.idTab.phone2);
                this.idTab.phone3 = numberCheck(this.idTab.phone3);
                this.pwTab.phone2 = numberCheck(this.pwTab.phone2);
                this.pwTab.phone3 = numberCheck(this.pwTab.phone3);
            },
            phoneCheck: function () {
                $.post("/identify/makeEncData/M", function (result) {
                    if (result.sMessage == "") {
                        $("#EncodeDataP").val(result.sEncData);
                        idfPhone.createPopup();
                    } else {
                        alert(result.sMessage);
                    }
                });
            },
            ipinCheck: function () {
                $.post("/identify/makeEncData/I", function (result) {
                    if (result.sMessage == "") {
                        $("#EncodeDataI").val(result.sEncData);
                        idfIpin.createPopup();
                    } else {
                        alert(result.sMessage);
                    }
                });
            },
            beforeCheck: function (type) {
                // password 인증기관 찾기를 할 경우 아이디 validation을 따로 해야함.
                let selVal = $("#pwTab_userId_idf").val();
                let validOpt = $("#pwTab_userId_idf").data("validOpt");
                this.validateFn[validOpt].bind(this)(selVal);
                if (this.validateObj[validOpt] != "Y") {
                    alert(this.alertMessage[validOpt]);
                } else {
                    if (type == "P") {
                        this.phoneCheck();
                    } else {
                        this.ipinCheck();
                    }
                }
            },
            validate: function (selector) {
                let that = this;
                let booleanFlag = true;
                let selVal, opt, validVal;
                $("[data-valid-enable=true]").each(function () {
                    selVal = $(this).val();
                    opt = $(this).data("validOpt");
                    that.validateFn[opt].bind(that)(selVal);
                    validVal = that.validateObj[opt];
                    if (validVal != "Y") {
                        alert(that.alertMessage[opt]);
                        $(this).focus();
                        booleanFlag = false;
                        return false;
                    }
                });
                return booleanFlag;
            },
            validateFn: {
                UserID: function (value) {
                    //'V':사용하지않은ID|'A':사용중인 ID|'E':비어있음|'L':길이비교|'R':정규식비교 틀림|'Y':사용가능
                    let regexExp = /^(?=.*[a-zA-Z]).{6,20}$/; // 기존 가입자는 영문으로만 구성된 아이디 존재
                    if (value == "") {
                        //미입력
                        this.validateObj.UserID = "E";
                        this.alertMessage.UserID = "아이디를 입력하세요.";
                        return;
                    }
                    this.validateObj.UserID = "Y"; //정규식 검증일치 & 사용하지않은ID
                    this.alertMessage.UserID = "";
                },
                name: function (value) {
                    //'E':비어있음|'Y':사용가능
                    if (value == "") {
                        //미입력
                        this.validateObj.name = "E";
                        this.alertMessage.name = "이름을 입력하세요.";
                        return;
                    }
                    this.validateObj.name = "Y"; //정규식 검증일치 & 사용하지않은ID
                    this.alertMessage.name = "";
                },
                email1: function (value) {
                    //'E':비어있음|'R':정규식비교 틀림|'Y':사용가능
                    let regexExp = /[0-9a-zA-Z_-]+/;
                    if (value == "") {
                        //미입력
                        this.validateObj.email1 = "E";
                        this.alertMessage.email1 = "이메일을 입력하세요.";
                        return;
                    } else {
                        if (!regexExp.test(value)) {
                            //정규식 검증 실패
                            this.validateObj.email1 = "R";
                            this.alertMessage.email1 = "올바른 이메일 형식이 아닙니다.";
                            return;
                        }
                    }
                    this.validateObj.email1 = "Y"; //정규식 검증일치 & 사용하지않은ID
                    this.alertMessage.email1 = "";
                },
                email2: function (value) {
                    //'E':비어있음|'R':정규식비교 틀림|'Y':사용가능
                    let regexExp = /[\.a-zA-Z0-9-]+\.[a-zA-Z]+/;
                    if (value == "") {
                        //미입력
                        this.validateObj.email2 = "E";
                        this.alertMessage.email2 = "이메일을 입력하세요.";
                        return;
                    } else {
                        if (!regexExp.test(value)) {
                            //정규식 검증 실패
                            this.validateObj.email2 = "R";
                            this.alertMessage.email2 = "올바른 이메일 형식이 아닙니다";
                            return;
                        }
                    }
                    this.validateObj.email2 = "Y"; //정규식 검증일치 & 사용하지않은ID
                    this.alertMessage.email2 = "";
                },
                phone2: function (value) {
                    //'E':비어있음|'R':정규식비교 틀림|'Y':사용가능
                    let regexExp = /[0-9]{3,4}/;
                    if (value == "") {
                        //미입력
                        this.validateObj.phone2 = "E";
                        this.alertMessage.phone2 = "전화번호를 입력하세요.";
                        return;
                    } else {
                        if (!regexExp.test(value)) {
                            //정규식 검증 실패
                            this.validateObj.phone2 = "R";
                            this.alertMessage.phone2 = "올바른 전화번호 형식이 아닙니다.";
                            return;
                        }
                    }
                    this.validateObj.phone2 = "Y"; //정규식 검증일치 & 사용하지않은ID
                    this.alertMessage.phone2 = "";
                },
                phone3: function (value) {
                    //'E':비어있음|'R':정규식비교 틀림|'Y':사용가능
                    let regexExp = /[0-9]{4}/;
                    if (value == "") {
                        //미입력
                        this.validateObj.phone3 = "E";
                        this.alertMessage.phone3 = "전화번호를 입력하세요.";
                        return;
                    } else {
                        if (!regexExp.test(value)) {
                            //정규식 검증 실패
                            this.validateObj.phone3 = "R";
                            this.alertMessage.phone3 = "올바른 전화번호 형식이 아닙니다.";
                            return;
                        }
                    }
                    this.validateObj.phone3 = "Y"; //정규식 검증일치 & 사용하지않은ID
                    this.alertMessage.phone3 = "";
                },
            },
            memSearch: function (type, addObj) {
                let that = this;
                let ssoObj = {};
                let ssoUrl = "https://sso.chunjae.co.kr:446/api/member/Search";
                let orgName = "";
                if (this.tabSel == "id") {//id tab 선택 - 이름, 전화번호, 이메일, DI
                    if (type == "simple") {// 간편찾기
                        // validation
                        if (!this.validate(this.idTab)) {
                            return;
                        }
                        if (this.idTab.findMethod == "P") {// 휴대전화번호로 찾기
                            ssoObj.Hp = encodeStr(this.idTab.phone1 + "-" + this.idTab.phone2 + "-" + this.idTab.phone3, 2);
                            ssoObj.Email = encodeStr("", 2);
                            ssoObj.SearchType = "HP";
                        } else {// 이메일로 찾기
                            ssoObj.Hp = encodeStr("", 2);
                            ssoObj.Email = encodeStr(this.idTab.email1 + "@" + this.idTab.email2, 2);
                            ssoObj.SearchType = "Email";
                        }
                        ssoObj.DI = encodeStr("", 2);
                        ssoObj.Name = encodeStr(this.idTab.name, 2);
                        orgName = this.idTab.name;
                    } else { // 인증기관 통한 찾기
                        ssoObj.SearchType = addObj.SearchType; //검색형태
                        ssoObj.DI = encodeStr(addObj.DI, 2);
                        ssoObj.Name = encodeStr(addObj.UserName, 2);
                        ssoObj.Hp = encodeStr("", 2);
                        ssoObj.Email = encodeStr("", 2);
                        orgName = addObj.UserName;
                    }
                    ssoObj.UserID = encodeStr("", 2);
                    ssoObj.SearchInfoType = "ID";
                } else { //password tab 선택 - 아이디, 이름, 전화번호, 이메일, DI
                    if (type == "simple") {// 간편찾기
                        // validation
                        if (!this.validate(this.pwTab)) {
                            return;
                        }
                        if (this.pwTab.findMethod == "P") {// 휴대전화번호로 찾기
                            ssoObj.Hp = encodeStr(this.pwTab.phone1 + "-" + this.pwTab.phone2 + "-" + this.pwTab.phone3, 2);
                            ssoObj.Email = encodeStr("", 2);
                            ssoObj.SearchType = "HP";
                        } else {// 이메일로 찾기
                            ssoObj.Hp = encodeStr("", 2);
                            ssoObj.Email = encodeStr(this.pwTab.email1 + "@" + this.pwTab.email2, 2);
                            ssoObj.SearchType = "Email";
                        }
                        ssoObj.DI = encodeStr("", 2);
                        ssoObj.Name = encodeStr(this.pwTab.name, 2);
                        ssoObj.UserID = encodeStr(this.pwTab.userId_simple, 2);
                    } else { // 인증기관 통한 찾기
                        ssoObj.SearchType = addObj.SearchType; //검색형태
                        ssoObj.DI = encodeStr(addObj.DI, 2);
                        ssoObj.Name = encodeStr(addObj.UserName, 2);
                        ssoObj.Hp = encodeStr("", 2);
                        ssoObj.Email = encodeStr("", 2);
                        ssoObj.UserID = encodeStr(this.pwTab.userId_idf, 2);
                    }
                    ssoObj.SearchInfoType = "PWD";
                }
                // 아이디/PW 찾기
                $.get(ssoUrl, ssoObj).done(function (ssoRes) {
                    if (ssoRes.StatusCode == "MEMBER_OK") {
                        const sendObj = {};
                        _.assign(sendObj, ssoObj);
                        sendObj.maskedID = ssoRes.Result.Items.UserID;
                        sendObj.maskedHp = ssoRes.Result.Items.Hp;
                        sendObj.maskedEmail = ssoRes.Result.Items.Email;
                        sendObj.JoinDate = ssoRes.Result.Items.JoinDate;
                        sendObj.orgName = orgName;
                        // 완료 후 모달
                        if (ssoObj.SearchInfoType == "ID") {
                            $("#idFoundDiv").load("modal/id_found.html", sendObj, function () {
                                $("#idFound").modal("show");
                            });
                        } else {
                            $("#pwFoundDiv").load("modal/pw_found.html", sendObj, function () {
                                $("#pwFound").modal("show");
                            });
                        }
                    } else {
                        alert(ssoRes.Message);
                    }
                });
            },
            getData: function (evData) {
                // 커스텀 이벤트 받는 부분.
                const dataObj = {};
                dataObj.SearchType = evData.type;
                dataObj.DI = evData.DI;
                dataObj.UserName = evData.name;
                this.memSearch("idf", dataObj);
            }
        }
    }
</script>

</body>
</html>